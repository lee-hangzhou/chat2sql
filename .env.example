
# 基础配置
ENV=dev
DEBUG=true
PORT=8000

# 应用数据库
DATABASE_URL=mysql://root:123456@localhost:3306/chat2sql

# [必填] 业务数据库，NL2SQL 查询执行的目标库
BUSINESS_DATABASE_URL=mysql://root:123456@localhost:3306/your_business_db

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=10

# JWT
JWT_SECRET_KEY=dev-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# 日志
LOG_LEVEL=INFO
LOG_FORMAT=json

# [必填] LLM 配置
# 方式一：OpenAI 等云服务
OPENAI_API_KEY=sk-xxxx
OPENAI_MODEL=gpt-4o-mini
# OPENAI_BASE_URL=              # 留空则使用 OpenAI 官方地址
# 方式二：Ollama 等本地模型（取消注释以下行，注释掉上面的）
# OPENAI_API_KEY=ollama          # openai 客户端库要求非空，填任意值
# OPENAI_MODEL=qwen3:8b
# OPENAI_BASE_URL=http://localhost:11434/v1

LLM_TIMEOUT=300
LLM_MAX_RETRIES=3
LLM_RETRY_ATTEMPTS=3

# Milvus
MILVUS_URI=http://localhost:19530
MILVUS_COLLECTION_NAME=table_schemas
MILVUS_SCHEMA_FIELD=table_schema
MILVUS_SEARCH_LIMIT=10
EMBEDDING_MODEL=BAAI/bge-large-zh-v1.5

# Agent
AGENT_MAX_RETRIES=3
AGENT_MAX_SCHEMA_RETRIES=3
AGENT_MAX_FOLLOW_UPS=3
AGENT_RECURSION_LIMIT=25
AGENT_MAX_MESSAGE_PAIRS=5
EXPLAIN_MAX_ROWS=10000
EXECUTOR_MAX_ROWS=1000
SQL_CANDIDATE_COUNT=2
SQL_CANDIDATE_TEMPERATURE=0.7

# Phoenix (可观测性)
PHOENIX_COLLECTOR_ENDPOINT=http://localhost:4317

# Checkpointer
# 可选值: memory / sqlite / postgres
CHECKPOINTER_TYPE=memory
CHECKPOINTER_SQLITE_PATH=./checkpoints.db
# CHECKPOINTER_POSTGRES_URI=
